import{u as _,a as d,b as c,r as x,g as v,j as t,N as i,c as o,B as p,O as j,d as y}from"./index-y0VEz-6z.js";const g="_layout_1tpy7_1",N="_sidebar_1tpy7_6",h="_exitButton_1tpy7_13",k="_menu_1tpy7_21",B="_link_1tpy7_27",b="_active_1tpy7_39",f="_user_1tpy7_43",C="_avatar_1tpy7_47",E="_name_1tpy7_52",L="_email_1tpy7_60",O="_content_1tpy7_69",A="_cartCount_1tpy7_74",s={layout:g,sidebar:N,exitButton:h,menu:k,link:B,active:b,user:f,avatar:C,name:E,email:L,content:O,cartCount:A};function M(){const l=_(),n=d(),e=c(a=>a.user.profile),r=c(a=>a.cart.items);x.useEffect(()=>{n(v())},[n]);function u(){n(y.logout()),l("/auth/login")}return t.jsxs("div",{className:s.layout,children:[t.jsxs("div",{className:s.sidebar,children:[t.jsxs("div",{className:s.user,children:[t.jsx("img",{className:s.avatar,src:"/person-img.png",alt:"Аватар пользователя"}),t.jsx("div",{className:s.name,children:e==null?void 0:e.name}),t.jsx("div",{className:s.email,children:e==null?void 0:e.email})]}),t.jsxs("div",{className:s.menu,children:[t.jsxs(i,{to:"/",className:({isActive:a})=>o(s.link,{[s.active]:a}),children:[t.jsx("img",{src:"/menu-icon.svg",alt:"Иконка меню"}),"Меню"]}),t.jsxs(i,{to:"/cart",className:({isActive:a})=>o(s.link,{[s.active]:a}),children:[t.jsx("img",{src:"/cart-icon.svg",alt:"Иконка корзины"}),"Корзина ",t.jsx("span",{className:s.cartCount,children:r.reduce((a,m)=>a+=m.count,0)})]})]}),t.jsxs(p,{className:s.exitButton,onClick:u,children:[t.jsx("img",{src:"/exit-icon.svg",alt:"Иконка выхода"}),"Выход"]})]}),t.jsx("div",{className:s.content,children:t.jsx(j,{})})]})}export{M as default};
